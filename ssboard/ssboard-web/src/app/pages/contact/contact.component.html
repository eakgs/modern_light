<!-- =========================
   SSBoard ‚Ä¢ Contact (Neon Clean)
   - Tailwind + your global CSS (no overlay elements)
   - A11y-first, responsive, minimal JS
   - Drop-in for Angular/React/Vue
========================== -->
<section id="contact" class="hero-section px-6 md:px-8 text-white">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <header class="text-center mb-12 md:mb-16">
      <span class="badge-pulse">We reply within 24h</span>
      <h1 class="mt-4 text-4xl md:text-6xl font-extrabold leading-tight">
        <span class="text-gradient">Let‚Äôs build your </span>
         <span class="neon-glow text-white">Board</span>
      </h1>
      <p class="mt-4 text-base md:text-lg text-white/70 max-w-2xl mx-auto leading-relaxed">
        Tell us your idea, size, and deadline. We‚Äôll sketch a free preview and quote ‚Äî same day.
      </p>
    </header>

    <!-- Quick facts -->
    <ul class="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-12" role="list">
      <li class="feature-card p-4 md:p-5">
        <div class="feature-icon">‚ö°</div>
        <p class="text-center text-sm text-white/70">Quote in</p>
        <p class="text-center font-extrabold text-xl">24 hours</p>
      </li>
      <li class="feature-card p-4 md:p-5">
        <div class="feature-icon">‚òÖ</div>
        <p class="text-center text-sm text-white/70">Client rating</p>
        <p class="text-center font-extrabold text-xl">4.9 / 5</p>
      </li>
      <li class="feature-card p-4 md:p-5">
        <div class="feature-icon">üõ†Ô∏è</div>
        <p class="text-center text-sm text-white/70">Experience</p>
        <p class="text-center font-extrabold text-xl">10+ years</p>
      </li>
      <li class="feature-card p-4 md:p-5">
        <div class="feature-icon">üöö</div>
        <p class="text-center text-sm text-white/70">Island-wide</p>
        <p class="text-center font-extrabold text-xl">Delivery</p>
      </li>
    </ul>

    <!-- Main -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-10 items-start">
      <!-- Contact form -->
      <main class="glow-card p-6 md:p-8" aria-labelledby="contact-heading">
        <h2 id="contact-heading" class="text-2xl md:text-3xl font-extrabold mb-1">
          <span class="text-gradient">Start a project</span>
        </h2>
        <p class="text-white/70 mb-6">Add details for the fastest, most accurate quote.</p>

        <form id="contactForm" class="space-y-5" novalidate aria-describedby="formStatus">
          <!-- Honeypot -->
          <input type="text" name="company" class="hidden" tabindex="-1" autocomplete="off" aria-hidden="true">

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label for="fullName" class="block text-sm font-semibold text-white/80 mb-2">Full name</label>
              <input id="fullName" name="fullName" type="text" required placeholder="Jane Doe" autocomplete="name" class="form-input" aria-invalid="false" aria-describedby="nameHint nameErr">
              <p id="nameHint" class="mt-1 text-xs text-white/50">So we can address you properly.</p>
              <p id="nameErr" class="mt-1 hidden text-sm text-[var(--neon-pink)]" data-error-for="fullName">Please enter your name.</p>
            </div>
            <div>
              <label for="email" class="block text-sm font-semibold text-white/80 mb-2">Email</label>
              <input id="email" name="email" type="email" required placeholder="you@email.com" autocomplete="email" class="form-input" aria-invalid="false" aria-describedby="emailErr">
              <p id="emailErr" class="mt-1 hidden text-sm text-[var(--neon-pink)]" data-error-for="email">Enter a valid email.</p>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label for="phone" class="block text-sm font-semibold text-white/80 mb-2">Phone (WhatsApp)</label>
              <input id="phone" name="phone" type="tel" inputmode="tel" placeholder="+94 77 123 4567" autocomplete="tel" class="form-input">
            </div>
            <div>
              <label for="subject" class="block text-sm font-semibold text-white/80 mb-2">Subject</label>
              <input id="subject" name="subject" type="text" placeholder="Custom neon for storefront" class="form-input">
            </div>
          </div>

          <!-- Quick chips -->
          <div>
            <p class="text-sm uppercase tracking-wide text-white/60 mb-2">Type</p>
            <div class="flex flex-wrap items-center gap-2" role="group" aria-label="Neon type">
              <button type="button" class="neon-chip active" data-chip="Indoor" aria-pressed="true">Indoor</button>
              <button type="button" class="neon-chip" data-chip="Outdoor" aria-pressed="false">Outdoor</button>
              <button type="button" class="neon-chip" data-chip="RGB" aria-pressed="false">RGB</button>
              <button type="button" class="neon-chip" data-chip="Logo" aria-pressed="false">Logo</button>
              <button type="button" class="neon-chip" data-chip="Event" aria-pressed="false">Event</button>
            </div>
          </div>

          <div>
            <label for="message" class="block text-sm font-semibold text-white/80 mb-2">Message</label>
            <textarea id="message" name="message" rows="6" required
              placeholder="Describe text/logo, approx size (cm), color(s), indoor/outdoor, deadline, and any reference links."
              class="form-input resize-y" aria-invalid="false" aria-describedby="msgErr"></textarea>
            <p id="msgErr" class="mt-1 hidden text-sm text-[var(--neon-pink)]" data-error-for="message">Please add a short brief.</p>
            <p class="text-xs text-white/50 mt-2">Tip: clicking the chips above will append to your message.</p>
          </div>

          <!-- Optional file -->
          <div>
            <label for="artwork" class="block text-sm font-semibold text-white/80 mb-2">Attach logo / artwork (optional)</label>
            <div class="glow-card p-4 flex items-center gap-3">
              <svg class="icon" width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 16V4m0 0l-4 4m4-4l4 4M8 20h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
              <input id="artwork" name="artwork" type="file" accept=".png,.svg,.pdf,.jpg,.jpeg" class="form-input file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:bg-white/10 file:text-white/90 file:hover:bg-white/20" aria-describedby="fileHint">
              <span id="fileName" class="text-sm text-white/60"></span>
            </div>
            <p id="fileHint" class="mt-2 text-xs text-white/50">PNG/SVG/PDF/JPG, max 10MB.</p>
          </div>

          <!-- Consent -->
          <div class="flex items-start gap-3">
            <input id="consent" type="checkbox" class="mt-1 size-4 rounded border-[var(--dark-border)] bg-[var(--dark-surface)] text-[var(--neon-cyan)]" required aria-describedby="consentHint">
            <label for="consent" class="text-sm text-white/70">
              I agree to the <a href="/privacy" class="underline decoration-dotted underline-offset-4 hover:text-[var(--neon-cyan)]">privacy policy</a>.
            </label>
          </div>

          <!-- Actions -->
          <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 pt-2">
            <button type="submit" class="btn-primary sm:col-span-2" aria-live="polite">
              <span id="submitLabel">Send Message</span>
              <span class="arrow">‚Üí</span>
              <svg id="submitSpinner" class="hidden size-5 animate-spin" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                <circle cx="12" cy="12" r="10" opacity=".25"></circle>
                <path d="M22 12a10 10 0 0 1-10 10"></path>
              </svg>
            </button>
            <a class="btn-ghost" href="https://wa.me/94771234567" target="_blank" rel="noopener">
              WhatsApp <span class="arrow">‚Üó</span>
            </a>
          </div>

          <p id="formSuccess" class="mt-4 hidden rounded-xl border border-emerald-400/30 bg-emerald-400/10 p-3 text-sm text-emerald-300" role="status" aria-live="polite">
            Thanks! Your message is in. We‚Äôll get back within 24 hours.
          </p>
          <p id="formError" class="mt-4 hidden rounded-xl border border-[var(--neon-pink)]/40 bg-[color:rgba(255,0,110,.1)] p-3 text-sm text-[var(--neon-pink)]" role="alert" aria-live="assertive">
            Oops‚Äîsomething went wrong. Please try again or call us directly.
          </p>
          <span id="formStatus" class="sr-only" aria-live="polite"></span>
        </form>
      </main>

      <!-- Sidebar -->
      <aside class="space-y-6" aria-labelledby="contact-alt">
        <h2 id="contact-alt" class="sr-only">Other ways to contact us</h2>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div class="glow-card p-6">
            <div class="flex items-center gap-3">
              <div class="icon feature-icon !m-0 !w-12 !h-12 text-2xl">‚úâÔ∏è</div>
              <div>
                <p class="text-sm uppercase tracking-wide text-white/60">Email</p>
                <p class="font-semibold text-lg">info@ssboard.lk</p>
              </div>
              <button type="button" class="ml-auto neon-chip text-xs" data-copy="info@ssboard.lk" aria-label="Copy email address">Copy</button>
            </div>
          </div>
          <div class="glow-card p-6">
            <div class="flex items-center gap-3">
              <div class="icon feature-icon !m-0 !w-12 !h-12 text-2xl">üìû</div>
              <div>
                <p class="text-sm uppercase tracking-wide text-white/60">Phone</p>
                <p class="font-semibold text-lg">
                  <a class="hover:text-[var(--neon-cyan)]" href="tel:+94771234567">+94 77 123 4567</a>
                </p>
              </div>
              <a class="ml-auto neon-chip text-xs" target="_blank" rel="noopener" href="https://wa.me/94771234567" aria-label="Open WhatsApp">WhatsApp</a>
            </div>
          </div>
        </div>

        <!-- Interest chips -->
        <div class="glow-card p-6">
          <p class="text-sm uppercase tracking-wide text-white/60 mb-3">I‚Äôm interested in</p>
          <div class="flex flex-wrap gap-2" role="group" aria-label="Interest">
            <button type="button" class="neon-chip active" data-chip="Storefront" aria-pressed="true">Storefront</button>
            <button type="button" class="neon-chip" data-chip="Logo Neon" aria-pressed="false">Logo Neon</button>
            <button type="button" class="neon-chip" data-chip="Stage / Event" aria-pressed="false">Stage / Event</button>
            <button type="button" class="neon-chip" data-chip="Room Decor" aria-pressed="false">Room Decor</button>
            <button type="button" class="neon-chip" data-chip="RGB Animation" aria-pressed="false">RGB Animation</button>
            <button type="button" class="neon-chip" data-chip="Repair / Replace" aria-pressed="false">Repair / Replace</button>
          </div>
          <p class="text-xs text-white/50 mt-3">Click to append to your message.</p>
        </div>

        <!-- Social -->
        <div class="glow-card p-6">
          <p class="text-sm uppercase tracking-wide text-white/60 mb-3">Social</p>
          <div class="flex items-center gap-3">
            <a class="social-btn" href="https://facebook.com/ssboard" target="_blank" aria-label="Facebook">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15 3h-3a4 4 0 0 0-4 4v3H6v4h2v7h4v-7h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
            </a>
            <a class="social-btn" href="https://instagram.com/ssboard" target="_blank" aria-label="Instagram">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 3h10a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V7a4 4 0 0 1 4-4zm5 4a5 5 0 1 0 0 10 5 5 0 0 0 0-10Zm5.5-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>
            </a>
            <a class="social-btn" href="https://x.com/ssboard" target="_blank" aria-label="X">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3l8.5 9.5L3 21h3.5L12 14l5.5 7H21l-8.5-8.5L21 3h-3.5L12 10 6.5 3z"/></svg>
            </a>
          </div>
        </div>
      </aside>
    </div>

    <!-- CTA footer -->
    <div class="highlight-card mt-12 md:mt-16 rounded-2xl border border-[var(--dark-border)] p-6 md:p-8 bg-[rgba(255,255,255,.04)]">
      <div class="grid md:grid-cols-3 gap-6 items-center">
        <div class="md:col-span-2">
          <h3 class="text-2xl md:text-3xl font-extrabold">Ready to light up your brand?</h3>
          <p class="text-white/70">Send your logo or idea ‚Äî we‚Äôll craft a free preview today.</p>
        </div>
        <div class="flex gap-3 md:justify-end">
          <a href="#contactForm" class="btn-primary">Start a Project <span class="arrow">‚Üí</span></a>
          <a href="tel:+94771234567" class="btn-ghost">Call Now <span class="arrow">‚Üó</span></a>
        </div>
      </div>
    </div>
  </div>

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"SSBoard",
    "url":"https://ssboard.com/",
    "logo":"https://ssboard.com/logo.png",
    "contactPoint":[{
      "@type":"ContactPoint",
      "telephone":"+94-77-123-4567",
      "contactType":"customer service",
      "email":"info@ssboard.lk",
      "areaServed":"LK",
      "availableLanguage":["en","si"]
    }],
    "sameAs":[
      "https://facebook.com/ssboard",
      "https://instagram.com/ssboard",
      "https://x.com/ssboard"
    ]
  }
  </script>

  <!-- Minimal JS (no overlays) -->
  <script>
  (() => {
    const qs = (s, r=document) => r.querySelector(s);
    const qsa = (s, r=document) => Array.from(r.querySelectorAll(s));
    const form = qs('#contactForm');
    const submitLabel = qs('#submitLabel');
    const submitSpinner = qs('#submitSpinner');
    const success = qs('#formSuccess');
    const error = qs('#formError');
    const fileInput = qs('#artwork');
    const fileName = qs('#fileName');

    const show = el => el.classList.remove('hidden');
    const hide = el => el.classList.add('hidden');

    // Chips ‚Üí append/remove to message
    qsa('[data-chip]').forEach(chip => {
      chip.addEventListener('click', () => {
        const pressed = chip.getAttribute('aria-pressed') === 'true';
        chip.classList.toggle('active');
        chip.setAttribute('aria-pressed', (!pressed).toString());
        const value = chip.dataset.chip;
        const msg = qs('#message');
        const parts = msg.value.split('|').map(s => s.trim()).filter(Boolean);
        if (!pressed) {
          if (!parts.includes(value)) parts.push(value);
        } else {
          const i = parts.indexOf(value);
          if (i > -1) parts.splice(i, 1);
        }
        msg.value = parts.join(' | ');
      });
    });

    // Copy buttons
    qsa('[data-copy]').forEach(btn => {
      btn.addEventListener('click', async (e) => {
        e.preventDefault();
        try {
          await navigator.clipboard.writeText(btn.dataset.copy);
          const t = btn.textContent;
          btn.textContent = 'Copied';
          setTimeout(() => btn.textContent = t, 1200);
        } catch {}
      });
    });

    // File preview
    fileInput?.addEventListener('change', () => {
      const f = fileInput.files?.[0];
      fileName.textContent = f ? `${f.name} ‚Ä¢ ${(f.size/1024/1024).toFixed(2)} MB` : '';
    });

    // Validation helper
    function setInvalid(id, isInvalid) {
      const field = qs('#' + id);
      const hint = qs(`[data-error-for="${id}"]`);
      if (!field || !hint) return;
      field.classList.toggle('ring-2', isInvalid);
      field.classList.toggle('ring-[var(--neon-pink)]/60', isInvalid);
      field.setAttribute('aria-invalid', isInvalid ? 'true' : 'false');
      hint.classList.toggle('hidden', !isInvalid);
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      hide(success); hide(error);

      const nameOk = !!form.fullName.value.trim();
      const emailOk = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email.value);
      const msgOk = !!form.message.value.trim();
      const consentOk = form.querySelector('#consent')?.checked;

      setInvalid('fullName', !nameOk);
      setInvalid('email', !emailOk);
      setInvalid('message', !msgOk);
      if (!nameOk || !emailOk || !msgOk || !consentOk) return;

      // Honeypot
      if (form.company.value) return;

      // Build payload
      const attached = fileInput?.files?.[0];
      submitLabel.textContent = 'Sending...';
      submitSpinner.classList.remove('hidden');

      try {
        let res;
        if (attached) {
          const fd = new FormData();
          fd.append('fullName', form.fullName.value);
          fd.append('email', form.email.value);
          fd.append('phone', form.phone.value);
          fd.append('subject', form.subject.value);
          fd.append('message', form.message.value);
          fd.append('source', 'contact-page');
          fd.append('file', attached, attached.name);
          res = await fetch('/api/contact', { method: 'POST', body: fd });
        } else {
          res = await fetch('/api/contact', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              fullName: form.fullName.value,
              email: form.email.value,
              phone: form.phone.value,
              subject: form.subject.value,
              message: form.message.value,
              source: 'contact-page'
            })
          });
        }
        if (!res.ok) throw new Error('Request failed');

        form.reset();
        fileName.textContent = '';
        show(success);
      } catch {
        show(error);
      } finally {
        submitLabel.textContent = 'Send Message';
        submitSpinner.classList.add('hidden');
      }
    });
  })();
  </script>
</section>
